<div class="content-heading mb-lg">
  会员管理
</div>
<div class="panel mb">
  <div class="panel-body p ng-scope" ng-if="search">
    <div class="form-group mb0">
      <div class="col-xs-3">
        <input type="text" class="form-control border-b-grey ng-pristine ng-valid ng-touched" [(ngModel)]="custName"
               (change)="queryMemberList()" placeholder="请输入要查询的会员名称">
      </div>
      <div class="col-xs-3">
        <input type="text" class="form-control border-b-grey ng-pristine ng-valid ng-touched" [(ngModel)]="custTruename"
               (change)="queryMemberList()" placeholder="请输入要查询的会员真实姓名">
      </div>
      <div class="col-xs-3">
        <input type="text" class="form-control border-b-grey ng-pristine ng-valid ng-touched" [(ngModel)]="custPhone"
               (change)="queryMemberList()" placeholder="请输入要查询的会员的手机号">
      </div>
      <div class="col-sm-1 pull-left text-center">
        <span class="ng-scope">
           <button type="button" title="搜索" id="toSearch" (click)="querySearchList()"
                   class="btn btn-primary bar-h3-btn mr ng-scope">
             <em class="icon-magnifier fa-fw"></em>搜索
           </button>
          </span>
      </div>
    </div>
  </div>
</div>
<div class="panel panel-default">
  <div class="panel-body">
  <table class="table table-striped" #memberList="rzhDataTable" [rzhData]="memberListdata"
         (pageChange)="queryMemberList($event)">
    <thead>
    <tr>
      <th style="width: 5%">
        序号
      </th>
      <th style="width: 10%">
        <rzhDefaultSorter by="name">会员名称</rzhDefaultSorter>
      </th>
      <th style="width: 10%">
        <rzhDefaultSorter by="email">真实姓名</rzhDefaultSorter>
      </th>
      <th style="width: 10%">
        <rzhDefaultSorter>性别</rzhDefaultSorter>
      </th>
      <th style="width: 10%">
        <rzhDefaultSorter>区域名称</rzhDefaultSorter>
      </th>
      <th style="width: 10%">
        <rzhDefaultSorter>生日</rzhDefaultSorter>
      </th>
      <th style="width: 10%">
        <rzhDefaultSorter>手机号</rzhDefaultSorter>
      </th>
      <th style="width: 10%">
        <rzhDefaultSorter>是否新会员</rzhDefaultSorter>
      </th>
      <th style="width: 10%">
        <rzhDefaultSorter>状态</rzhDefaultSorter>
      </th>
      <th style="width: 10%">创建时间</th>
      <th style="width: 5%">管理操作</th>
    </tr>
    </thead>
    <tbody>
    <ng-container *ngFor="let member of memberList.data;let i = index">
      <tr>
        <td>{{i+1}}</td>
        <td>{{member.custName}}</td>
        <td>{{member.custTruename}}</td>
        <td *ngIf="member.custSex=='MALE'">
          男
        </td>
        <td *ngIf="member.custSex=='FAMADAM'">
          女
        </td>
        <td *ngIf="member.custSex=='UNKNOW'">
          未知
        </td>
        <td>{{member.areaName}}</td>
        <td>{{member.custBirthday}}</td>
        <td>{{member.custPhone}}</td>
        <td *ngIf="member.isMember=='N'">
          否
        </td>
        <td *ngIf="member.isMember=='Y'">
          是
        </td>
        <td *ngIf="member.state=='NORMAL'">
          正常
        </td>
        <td *ngIf="member.state=='FREEZE'">
          冻结
        </td>
        <td *ngIf="member.state=='BLACK'">
          黑名单
        </td>
        <td *ngIf="member.state=='STOP'">
          禁言
        </td>
        <td>{{member.createTime}}</td>
        <td>
          <app-buttons [config]="detailsbutton" (click)="showDetail(member)"></app-buttons>
        </td>
      </tr>
      <tr *ngIf="member.isShow">
        <td class="p0" colspan="11">
          <div class="bg-table special text-left">
            <span class="m10">头像:</span> <span>{{member.custAvatar}}</span>
          </div>
          <div class="bg-table special text-left">
            <span class="m10">邮箱:</span> <span>{{member.custEmail}}</span>
          </div>
          <div class="bg-table special text-left">
            <span class="m10">最后登陆时间:</span> <span>{{member.custOldLoginTime}}</span>
          </div>
          <div class="bg-table special text-left">
            <span class="m10">新浪微博登陆id:</span> <span> {{member.custSinaopenid}}</span>
          </div>
          <div class="bg-table special text-left">
            <span class="m10">qq:</span> <span>{{member.custQq}}</span>
          </div>
        </td>
      </tr>
    </ng-container>
    </tbody>
    <tfoot>
    <tr class="text-center">
      <td colspan="12">
        <div class="col-md-5">
          <div class="text-muted pull-left"><strong>第 {{memberListdata.genStartRow()}} 至
            {{memberListdata.genEndRow()}} 条，共 {{memberListdata.totalRow}}
            条</strong></div>
        </div>
        <div class="col-md-7">
          <div class="pull-right">
            <rzhBootstrapPaginator></rzhBootstrapPaginator>
          </div>
        </div>
      </td>
    </tr>
    </tfoot>
  </table>
</div>
</div>
<!--路由嵌套 begin-->
<router-outlet></router-outlet>
<!--路由嵌套 end-->




