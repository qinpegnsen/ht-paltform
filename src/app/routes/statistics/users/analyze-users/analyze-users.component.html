
<div class="content-heading mb-lg">
    会员分析
  </div>

  <div class="panel panel-default">

    <div class="panel mb p w98 m-auto ts thc">
      <p class="font18">操作提示</p>
      <ul>
        <li>统计图展示了时间段内新增会员数的走势和与前一时间段的对比</li>
        <li>统计表展示了时间段内新增会员数值和与前一时间段的同比数值，点击每条记录后的“查看”，了解新增会员的详细信息</li>
      </ul>
    </div>

    <div class="w98 m-auto h50">
      <button class="statistic-btn btn-default m0" (click)="selectInfos()">
        <i class="icon icon-magnifier"></i>
      </button>
      <div class="pull-right" style="width: 300px">
        <div class="col-xs-3 form-group" style="width: 250px">

          <div *ngIf="showType.MONTH">
            <select [(ngModel)]="select.year">
              <option *ngFor="let info of yearInfo" value="{{info}}">{{info}}</option>
            </select>
            <select [(ngModel)]="select.month">
              <option *ngFor="let info of month" value="{{info}}">{{info}}</option>
            </select>
          </div>
          <div *ngIf="showType.WEEK">
            <select [(ngModel)]="select.year">
              <option *ngFor="let info of yearInfo" value="{{info}}">{{info}}</option>
            </select>
            <select [(ngModel)]="select.month" (change)="getWeekListByMonth()">
              <option *ngFor="let info of month" value="{{info}}">{{info}}</option>
            </select>
            <select [(ngModel)]="select.week">
              <option *ngFor="let info of weekForMonth" value="{{info}}">{{info}}</option>
            </select>
          </div>

          <div *ngIf="showType.DAY">
            <input type="text" class="form-control" bsDatepicker [(ngModel)]="datepickerModel"
                   [bsConfig]="bsConfig" #dpr="bsDatepicker"/>
            <span class="statistic-btn input-group-addon fa fa-calendar spanbtn h35" (click)="dpr.show()"></span>
          </div>
        </div>
      </div>
      <select class="sel form-control pull-right" style="margin-right: 20px" name="queryType"
              [(ngModel)]="queryType" (change)="search()">
        <option *ngFor="let item of queryTypes" [value]="item.key">{{item.val}}</option>
      </select>


    </div>
    <!--图表切换-->
    <div class="panel w98 m-auto">
      <tabset class="bg-white p0" [justified]="true">
        <tab>
          <ng-template tabHeading>
            <em class="fa fa-shopping-cart"></em>下单金额
          </ng-template>
          <div>
            <!-- START list group-->
            <div class="list-group mb0">
              <div class="refund-table">
                <p class="text-center font24 echars-p">排行榜</p>
                <div echarts [options]="option" class="demo-chart"></div>
              </div>
            </div>
            <!-- END list group-->
          </div>
        </tab>
        <tab>
          <ng-template tabHeading>
            <em class="fa fa-calendar"></em>下单量
          </ng-template>
          <div>
            <!-- START table responsive-->
            <div class="table-responsive">
              <div class="refund-table">
                <p class="text-center font24 echars-p">很帅气</p>
                <div echarts [options]="optiona" class="demo-chart"></div>
              </div>
            </div>
            <!-- END table responsive-->
          </div>
        </tab>
      </tabset>
    </div>

    <div class="panel panel-default mt20" >
      <div class="panel-body">
        <table class="table table-striped" #dataTable="rzhDataTable"  [rzhData]="data"  (pageChange)="queryDatas($event)">
          <thead>
          <tr>
            <th class="w33 text-center">
              <rzhDefaultSorter by="name">序号</rzhDefaultSorter>
            </th>
            <th class="w33 text-center">
              <rzhDefaultSorter by="name">会员名</rzhDefaultSorter>
            </th>
            <th class="w33 text-center">
              <rzhDefaultSorter by="email">下单金额（元）</rzhDefaultSorter>
            </th>

          </tr>
          </thead>
          <tbody>
          <tr class="text-center">
            <td class="">aaa</td>
            <td class="">sss</td>
            <td class="">ddd</td>
          </tr>
        </table>
      </div>
    </div>


  </div>
