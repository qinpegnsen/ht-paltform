<div class="content-heading mb-lg thc font">
  <span class="thc font">平台消息模板</span>
  <app-buttons class="pull-right" [config]="addbutton" (click)="addTpl()"></app-buttons>
</div>
<div class="panel mb panel-default">
  <div class="panel-body">
    <table class="table table-striped" #platformTplList="rzhDataTable" [rzhData]="platformTplData"
           (pageChange)="queryPlatformTpl(1,$event)">
      <thead>
      <tr>
        <th class="w5 thc font">
          消息图标
        </th>
        <th class="w10 thc font text-left">
          模板编码
        </th>
        <th class="w10 thc font text-left">
          模板名称
        </th>
        <th class="w25 thc font text-left">
          模板
        </th>
        <th class="w15 thc font text-left">
          菜单权限
        </th>
        <th class="w15 thc font text-left">
          菜单URL
        </th>
        <th class="w10 thc font text-left">
          备注
        </th>
        <th class="w10 thc font">操作</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let platformTpl of platformTplList.data;let i = index">
        <td><i class="{{platformTpl.icon}}"></i></td>
        <td class="text-left">{{platformTpl.tplCode}}</td>
        <td class="text-left">{{platformTpl.tplName}}</td>
        <td class="text-left">{{platformTpl.tpl}}</td>
        <td class="text-left">{{platformTpl.limitMenu}}</td>
        <td class="text-left">{{platformTpl.url}}</td>
        <td class="text-left">{{platformTpl.remark}}</td>
        <td>
          <app-buttons [config]="updatebutton" (click)="updateTpl(platformTpl.tplCode,platformTplData.curPage)"></app-buttons>
          <app-buttons [config]="deletebutton" (click)="deleteTpl(platformTpl.id,platformTplData.curPage)"></app-buttons>
        </td>
      </tr>
      </tbody>
      <tfoot>
      <tr class="text-center">
        <td colspan="12">
          <div class="col-md-5">
            <div class="text-muted pull-left"><strong>第 {{platformTplData.genStartRow()}} 至
              {{platformTplData.genEndRow()}} 条，共 {{platformTplData.totalRow}}
              条</strong></div>
          </div>
          <div class="col-md-7">
            <div class="pull-right">
              <rzhBootstrapPaginator></rzhBootstrapPaginator>
            </div>
          </div>
        </td>
      </tr>
      </tfoot>
    </table>
  </div>
</div>
<!--路由嵌套 begin-->
<router-outlet></router-outlet>
<!--路由嵌套 end-->
<app-platform-edit [type]="curType" [tplCode]="curTplCode" [page]="platformTplData.curPage"
                   (emitTplData)="getTplData($event)"></app-platform-edit>

