<div class="content-heading mb-lg">
  文章分类
</div>
<div class="panel mb">
  <div class="panel-body p ng-scope" ng-if="search">
    <div class="form-group mb0">
      <div class="col-xs-5">
        <input type="text" [(ngModel)]="searchKey" class="form-control border-b-grey ng-pristine ng-valid ng-touched"
               (change)="queryArticSortleList()" placeholder="请输入要查询的分类名称">
      </div>
      <div class="col-sm-1 pull-left text-center">
        <span class="ng-scope">
           <button type="button" title="搜索" id="toSearch" (click)="queryArticSortleList()"
                   class="btn btn-primary bar-h3-btn mr ng-scope">
             <em class="icon-magnifier fa-fw"></em>搜索
           </button>
          </span>
      </div>
    </div>
    <app-buttons class="pull-right" [config]="articleSortAddbutton" routerLink="addSort"  [queryParams]="{linkType:'addClass'}"></app-buttons>
  </div>
</div>
<div class="panel panel-default">
  <div class="col-md-10 font15 mt mb pl text-primary">
    <i class="icon-layers mr"></i>
    <span class="cursor-p" (click)="queryChildSortList()">文章分类</span>
    <span *ngFor="let menuTit of childMenuTitList">
      <i class="fa fa-arrow-right mr ml"></i>
      <font class="cursor-p" (click)="queryChildSortList(menuTit.code,menuTit.name,true)">{{menuTit.name}}</font>
    </span>
    <span *ngIf="childMenuTitList.length>0" (click)="goBackMenu()" class="btn btn-default btn-xs ml">
      <i class="fa fa-level-up mr5"></i>
      返回上一级
    </span>
</div>
  <div class="panel-body">
    <table class="table table-striped" #articleList="rzhDataTable" [rzhData]="articleSortListdata"
           (pageChange)="queryArticSortleList($event)">
      <thead>
      <tr>
        <th style="width: 5%">
          序号
        </th>
        <th style="width: 15%">
          <rzhDefaultSorter by="name">分类名称</rzhDefaultSorter>
        </th>
        <th style="width: 25%">
          <rzhDefaultSorter by="email">描述</rzhDefaultSorter>
        </th>
        <th style="width: 10%">
          <rzhDefaultSorter>状态</rzhDefaultSorter>
        </th>
        <th style="width: 10%">
          <rzhDefaultSorter>排序</rzhDefaultSorter>
        </th>
        <th style="width: 10%">
          <rzhDefaultSorter by="city">创建时间</rzhDefaultSorter>
        </th>
        <th style="width: 25%">操作</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let article of articleList.data;let i = index">
        <td>{{i+1}}</td>
        <td>{{article.acName}}</td>
        <td>{{article.summary}}</td>
        <td *ngIf="article.state=='HIDE'">隐藏</td>
        <td *ngIf="article.state=='SHOW'">显示</td>
        <td *ngIf="article.state=='DEL'">已删除</td>
        <td>{{article.acSort}}</td>
        <td>{{article.createTime}}</td>
        <td>
          <app-buttons [config]="updatebutton" routerLink="addSort" [queryParams]="{linkType:'updateSort',id:article.id,acParentId:article.acParentId}"></app-buttons>
          <app-buttons [config]="childbutton" routerLink="addSort" [queryParams]="{linkType:'addChildSort',acParentId:article.id}"></app-buttons>
          <app-buttons [config]="deletebutton" (click)="deleteSort(article.id,article.acParentId)"></app-buttons>
          <span (click)="queryChildSortList(article.id,article.acName,false)" class="btn btn-default btn-xs">
          <i class="fa fa-level-down"></i>
          下级菜单
          </span>
        </td>
      </tr>
      </tbody>
      <tfoot>
      <tr>
        <td colspan="12">
          <div class="col-md-5">
            <div class="text-muted pull-left"><strong>第 {{articleSortListdata.genStartRow()}} 至
              {{articleSortListdata.genEndRow()}} 条，共 {{articleSortListdata.totalRow}}
              条</strong></div>
          </div>
          <div class="col-md-7">
            <div class="pull-right">
              <rzhBootstrapPaginator></rzhBootstrapPaginator>
            </div>
          </div>
        </td>
      </tr>
      </tfoot>
    </table>
  </div>
</div>
<!--路由嵌套 begin-->
<router-outlet></router-outlet>
<!--路由嵌套 end-->

